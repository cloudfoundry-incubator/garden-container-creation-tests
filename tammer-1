+ suffix=tammer-1
+ touch results.csv
+ true
+ cf push westley-tammer-1 -p assets/apps/westley -m 128M
+ cf push max-tammer-1 -p assets/apps/max -m 512M
+ cf push buttercup-tammer-1 -p assets/apps/princess -m 1024M
+ cf push humperdink-tammer-1 -p assets/apps/humperdink -m 128M
++ date +%s
+ scale_up_start_time=1446227147
++ seq 20
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 2
+ cf scale westley-tammer-1 -i 8
+ cf scale max-tammer-1 -i 4
+ cf scale buttercup-tammer-1 -i 1
+ check_state westley-tammer-1 8
+ name=westley-tammer-1
+ instances=8
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        3 -eq 8 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        6 -eq 8 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        6 -eq 8 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        8 -eq 8 ]]
+ return
+ check_state max-tammer-1 4
+ name=max-tammer-1
+ instances=4
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        4 -eq 4 ]]
+ return
+ check_state buttercup-tammer-1 1
+ name=buttercup-tammer-1
+ instances=1
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        1 -eq 1 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 4
+ cf scale westley-tammer-1 -i 16
+ cf scale max-tammer-1 -i 8
+ cf scale buttercup-tammer-1 -i 2
+ check_state westley-tammer-1 16
+ name=westley-tammer-1
+ instances=16
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        8 -eq 16 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       11 -eq 16 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       14 -eq 16 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       14 -eq 16 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       15 -eq 16 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 16 ]]
+ return
+ check_state max-tammer-1 8
+ name=max-tammer-1
+ instances=8
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        8 -eq 8 ]]
+ return
+ check_state buttercup-tammer-1 2
+ name=buttercup-tammer-1
+ instances=2
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        2 -eq 2 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 6
+ cf scale westley-tammer-1 -i 24
+ cf scale max-tammer-1 -i 12
+ cf scale buttercup-tammer-1 -i 3
+ check_state westley-tammer-1 24
+ name=westley-tammer-1
+ instances=24
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 24 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       20 -eq 24 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       23 -eq 24 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       23 -eq 24 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       24 -eq 24 ]]
+ return
+ check_state max-tammer-1 12
+ name=max-tammer-1
+ instances=12
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       12 -eq 12 ]]
+ return
+ check_state buttercup-tammer-1 3
+ name=buttercup-tammer-1
+ instances=3
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        3 -eq 3 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 8
+ cf scale westley-tammer-1 -i 32
+ cf scale max-tammer-1 -i 16
+ cf scale buttercup-tammer-1 -i 4
+ check_state westley-tammer-1 32
+ name=westley-tammer-1
+ instances=32
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       24 -eq 32 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       27 -eq 32 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       30 -eq 32 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       31 -eq 32 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       31 -eq 32 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       32 -eq 32 ]]
+ return
+ check_state max-tammer-1 16
+ name=max-tammer-1
+ instances=16
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 16 ]]
+ return
+ check_state buttercup-tammer-1 4
+ name=buttercup-tammer-1
+ instances=4
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        4 -eq 4 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 10
+ cf scale westley-tammer-1 -i 40
+ cf scale max-tammer-1 -i 20
+ cf scale buttercup-tammer-1 -i 5
+ check_state westley-tammer-1 40
+ name=westley-tammer-1
+ instances=40
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       32 -eq 40 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       34 -eq 40 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       38 -eq 40 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       39 -eq 40 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       40 -eq 40 ]]
+ return
+ check_state max-tammer-1 20
+ name=max-tammer-1
+ instances=20
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       20 -eq 20 ]]
+ return
+ check_state buttercup-tammer-1 5
+ name=buttercup-tammer-1
+ instances=5
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        5 -eq 5 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 12
+ cf scale westley-tammer-1 -i 48
+ cf scale max-tammer-1 -i 24
+ cf scale buttercup-tammer-1 -i 6
+ check_state westley-tammer-1 48
+ name=westley-tammer-1
+ instances=48
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       40 -eq 48 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       42 -eq 48 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       44 -eq 48 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       46 -eq 48 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       47 -eq 48 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       48 -eq 48 ]]
+ return
+ check_state max-tammer-1 24
+ name=max-tammer-1
+ instances=24
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       24 -eq 24 ]]
+ return
+ check_state buttercup-tammer-1 6
+ name=buttercup-tammer-1
+ instances=6
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        6 -eq 6 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 14
+ cf scale westley-tammer-1 -i 56
+ cf scale max-tammer-1 -i 28
+ cf scale buttercup-tammer-1 -i 7
+ check_state westley-tammer-1 56
+ name=westley-tammer-1
+ instances=56
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       48 -eq 56 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       50 -eq 56 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       54 -eq 56 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       55 -eq 56 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       55 -eq 56 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       55 -eq 56 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       55 -eq 56 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       56 -eq 56 ]]
+ return
+ check_state max-tammer-1 28
+ name=max-tammer-1
+ instances=28
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       28 -eq 28 ]]
+ return
+ check_state buttercup-tammer-1 7
+ name=buttercup-tammer-1
+ instances=7
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        7 -eq 7 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 16
+ cf scale westley-tammer-1 -i 64
+ cf scale max-tammer-1 -i 32
+ cf scale buttercup-tammer-1 -i 8
+ check_state westley-tammer-1 64
+ name=westley-tammer-1
+ instances=64
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       56 -eq 64 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       59 -eq 64 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       60 -eq 64 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       61 -eq 64 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       63 -eq 64 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       64 -eq 64 ]]
+ return
+ check_state max-tammer-1 32
+ name=max-tammer-1
+ instances=32
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       32 -eq 32 ]]
+ return
+ check_state buttercup-tammer-1 8
+ name=buttercup-tammer-1
+ instances=8
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        8 -eq 8 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 18
+ cf scale westley-tammer-1 -i 72
+ cf scale max-tammer-1 -i 36
+ cf scale buttercup-tammer-1 -i 9
+ check_state westley-tammer-1 72
+ name=westley-tammer-1
+ instances=72
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       65 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       65 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       70 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       71 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       72 -eq 72 ]]
+ return
+ check_state max-tammer-1 36
+ name=max-tammer-1
+ instances=36
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       36 -eq 36 ]]
+ return
+ check_state buttercup-tammer-1 9
+ name=buttercup-tammer-1
+ instances=9
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        9 -eq 9 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 20
+ cf scale westley-tammer-1 -i 80
+ cf scale max-tammer-1 -i 40
+ cf scale buttercup-tammer-1 -i 10
+ check_state westley-tammer-1 80
+ name=westley-tammer-1
+ instances=80
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       73 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       73 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       74 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       80 -eq 80 ]]
+ return
+ check_state max-tammer-1 40
+ name=max-tammer-1
+ instances=40
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       39 -eq 40 ]]
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       40 -eq 40 ]]
+ return
+ check_state buttercup-tammer-1 10
+ name=buttercup-tammer-1
+ instances=10
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       10 -eq 10 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 22
+ cf scale westley-tammer-1 -i 88
+ cf scale max-tammer-1 -i 44
+ cf scale buttercup-tammer-1 -i 11
+ check_state westley-tammer-1 88
+ name=westley-tammer-1
+ instances=88
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       80 -eq 88 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       80 -eq 88 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       82 -eq 88 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       85 -eq 88 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       86 -eq 88 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       87 -eq 88 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       88 -eq 88 ]]
+ return
+ check_state max-tammer-1 44
+ name=max-tammer-1
+ instances=44
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       44 -eq 44 ]]
+ return
+ check_state buttercup-tammer-1 11
+ name=buttercup-tammer-1
+ instances=11
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       11 -eq 11 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 24
+ cf scale westley-tammer-1 -i 96
+ cf scale max-tammer-1 -i 48
+ cf scale buttercup-tammer-1 -i 12
+ check_state westley-tammer-1 96
+ name=westley-tammer-1
+ instances=96
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       89 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       90 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       91 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       91 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       95 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       96 -eq 96 ]]
+ return
+ check_state max-tammer-1 48
+ name=max-tammer-1
+ instances=48
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       48 -eq 48 ]]
+ return
+ check_state buttercup-tammer-1 12
+ name=buttercup-tammer-1
+ instances=12
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       12 -eq 12 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 26
+ cf scale westley-tammer-1 -i 104
+ cf scale max-tammer-1 -i 52
+ cf scale buttercup-tammer-1 -i 13
+ check_state westley-tammer-1 104
+ name=westley-tammer-1
+ instances=104
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       96 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       96 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       96 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       96 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       96 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       92 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       96 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       96 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      102 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      103 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      103 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      103 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      104 -eq 104 ]]
+ return
+ check_state max-tammer-1 52
+ name=max-tammer-1
+ instances=52
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       52 -eq 52 ]]
+ return
+ check_state buttercup-tammer-1 13
+ name=buttercup-tammer-1
+ instances=13
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       13 -eq 13 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 28
+ cf scale westley-tammer-1 -i 112
+ cf scale max-tammer-1 -i 56
+ cf scale buttercup-tammer-1 -i 14
+ check_state westley-tammer-1 112
+ name=westley-tammer-1
+ instances=112
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      104 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      104 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      104 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      104 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      105 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      105 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      112 -eq 112 ]]
+ return
+ check_state max-tammer-1 56
+ name=max-tammer-1
+ instances=56
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       52 -eq 56 ]]
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       52 -eq 56 ]]
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       52 -eq 56 ]]
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       56 -eq 56 ]]
+ return
+ check_state buttercup-tammer-1 14
+ name=buttercup-tammer-1
+ instances=14
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       14 -eq 14 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 30
+ cf scale westley-tammer-1 -i 120
+ cf scale max-tammer-1 -i 60
+ cf scale buttercup-tammer-1 -i 15
+ check_state westley-tammer-1 120
+ name=westley-tammer-1
+ instances=120
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      112 -eq 120 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      112 -eq 120 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      112 -eq 120 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      112 -eq 120 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      117 -eq 120 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      120 -eq 120 ]]
+ return
+ check_state max-tammer-1 60
+ name=max-tammer-1
+ instances=60
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       60 -eq 60 ]]
+ return
+ check_state buttercup-tammer-1 15
+ name=buttercup-tammer-1
+ instances=15
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       15 -eq 15 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 32
+ cf scale westley-tammer-1 -i 128
+ cf scale max-tammer-1 -i 64
+ cf scale buttercup-tammer-1 -i 16
+ check_state westley-tammer-1 128
+ name=westley-tammer-1
+ instances=128
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      120 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      102 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      103 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      103 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      104 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      105 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      115 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      119 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      124 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      125 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      127 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      127 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      128 -eq 128 ]]
+ return
+ check_state max-tammer-1 64
+ name=max-tammer-1
+ instances=64
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       64 -eq 64 ]]
+ return
+ check_state buttercup-tammer-1 16
+ name=buttercup-tammer-1
+ instances=16
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 16 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 34
+ cf scale westley-tammer-1 -i 136
+ cf scale max-tammer-1 -i 68
+ cf scale buttercup-tammer-1 -i 17
+ check_state westley-tammer-1 136
+ name=westley-tammer-1
+ instances=136
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      128 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      128 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      128 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      113 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      116 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      116 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      118 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      135 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      136 -eq 136 ]]
+ return
+ check_state max-tammer-1 68
+ name=max-tammer-1
+ instances=68
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       68 -eq 68 ]]
+ return
+ check_state buttercup-tammer-1 17
+ name=buttercup-tammer-1
+ instances=17
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       17 -eq 17 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 36
+ cf scale westley-tammer-1 -i 144
+ cf scale max-tammer-1 -i 72
+ cf scale buttercup-tammer-1 -i 18
+ check_state westley-tammer-1 144
+ name=westley-tammer-1
+ instances=144
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      136 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      136 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      136 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      138 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      140 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      140 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      144 -eq 144 ]]
+ return
+ check_state max-tammer-1 72
+ name=max-tammer-1
+ instances=72
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       72 -eq 72 ]]
+ return
+ check_state buttercup-tammer-1 18
+ name=buttercup-tammer-1
+ instances=18
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 18 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 18 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 18 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 18 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       17 -eq 18 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       18 -eq 18 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 38
+ cf scale westley-tammer-1 -i 152
+ cf scale max-tammer-1 -i 76
+ cf scale buttercup-tammer-1 -i 19
+ check_state westley-tammer-1 152
+ name=westley-tammer-1
+ instances=152
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      144 -eq 152 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      144 -eq 152 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      144 -eq 152 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      144 -eq 152 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      146 -eq 152 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      152 -eq 152 ]]
+ return
+ check_state max-tammer-1 76
+ name=max-tammer-1
+ instances=76
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       76 -eq 76 ]]
+ return
+ check_state buttercup-tammer-1 19
+ name=buttercup-tammer-1
+ instances=19
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       19 -eq 19 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 40
+ cf scale westley-tammer-1 -i 160
+ cf scale max-tammer-1 -i 80
+ cf scale buttercup-tammer-1 -i 20
+ check_state westley-tammer-1 160
+ name=westley-tammer-1
+ instances=160
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      152 -eq 160 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      131 -eq 160 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      131 -eq 160 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      136 -eq 160 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      137 -eq 160 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      139 -eq 160 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      152 -eq 160 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      156 -eq 160 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      160 -eq 160 ]]
+ return
+ check_state max-tammer-1 80
+ name=max-tammer-1
+ instances=80
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       80 -eq 80 ]]
+ return
+ check_state buttercup-tammer-1 20
+ name=buttercup-tammer-1
+ instances=20
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       20 -eq 20 ]]
+ return
++ date +%s
+ scale_up_end_time=1446227513
+ sleep 60
++ date +%s
+ scale_down_start_time=1446227573
+ cf d -f humperdink-tammer-1
+ cf d -f westley-tammer-1
+ cf d -f max-tammer-1
+ cf d -f buttercup-tammer-1
++ date +%s
+ scale_down_end_time=1446227577
+ echo 1446227147,1446227513,1446227573,1446227577
+ sleep 30
+ true
+ cf push westley-tammer-1 -p assets/apps/westley -m 128M
+ cf push max-tammer-1 -p assets/apps/max -m 512M
+ cf push buttercup-tammer-1 -p assets/apps/princess -m 1024M
+ cf push humperdink-tammer-1 -p assets/apps/humperdink -m 128M
++ date +%s
+ scale_up_start_time=1446227764
++ seq 20
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 2
+ cf scale westley-tammer-1 -i 8
+ cf scale max-tammer-1 -i 4
+ cf scale buttercup-tammer-1 -i 1
+ check_state westley-tammer-1 8
+ name=westley-tammer-1
+ instances=8
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        2 -eq 8 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        5 -eq 8 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        6 -eq 8 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        7 -eq 8 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        8 -eq 8 ]]
+ return
+ check_state max-tammer-1 4
+ name=max-tammer-1
+ instances=4
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        4 -eq 4 ]]
+ return
+ check_state buttercup-tammer-1 1
+ name=buttercup-tammer-1
+ instances=1
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        1 -eq 1 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 4
+ cf scale westley-tammer-1 -i 16
+ cf scale max-tammer-1 -i 8
+ cf scale buttercup-tammer-1 -i 2
+ check_state westley-tammer-1 16
+ name=westley-tammer-1
+ instances=16
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        8 -eq 16 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        9 -eq 16 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       12 -eq 16 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       14 -eq 16 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       15 -eq 16 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 16 ]]
+ return
+ check_state max-tammer-1 8
+ name=max-tammer-1
+ instances=8
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        8 -eq 8 ]]
+ return
+ check_state buttercup-tammer-1 2
+ name=buttercup-tammer-1
+ instances=2
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        2 -eq 2 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 6
+ cf scale westley-tammer-1 -i 24
+ cf scale max-tammer-1 -i 12
+ cf scale buttercup-tammer-1 -i 3
+ check_state westley-tammer-1 24
+ name=westley-tammer-1
+ instances=24
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 24 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 24 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       21 -eq 24 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       22 -eq 24 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       22 -eq 24 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       23 -eq 24 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       24 -eq 24 ]]
+ return
+ check_state max-tammer-1 12
+ name=max-tammer-1
+ instances=12
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       12 -eq 12 ]]
+ return
+ check_state buttercup-tammer-1 3
+ name=buttercup-tammer-1
+ instances=3
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        3 -eq 3 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 8
+ cf scale westley-tammer-1 -i 32
+ cf scale max-tammer-1 -i 16
+ cf scale buttercup-tammer-1 -i 4
+ check_state westley-tammer-1 32
+ name=westley-tammer-1
+ instances=32
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       24 -eq 32 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       26 -eq 32 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       30 -eq 32 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       30 -eq 32 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       30 -eq 32 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       31 -eq 32 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       31 -eq 32 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       31 -eq 32 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       32 -eq 32 ]]
+ return
+ check_state max-tammer-1 16
+ name=max-tammer-1
+ instances=16
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 16 ]]
+ return
+ check_state buttercup-tammer-1 4
+ name=buttercup-tammer-1
+ instances=4
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        4 -eq 4 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 10
+ cf scale westley-tammer-1 -i 40
+ cf scale max-tammer-1 -i 20
+ cf scale buttercup-tammer-1 -i 5
+ check_state westley-tammer-1 40
+ name=westley-tammer-1
+ instances=40
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       32 -eq 40 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       33 -eq 40 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       38 -eq 40 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       38 -eq 40 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       40 -eq 40 ]]
+ return
+ check_state max-tammer-1 20
+ name=max-tammer-1
+ instances=20
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       20 -eq 20 ]]
+ return
+ check_state buttercup-tammer-1 5
+ name=buttercup-tammer-1
+ instances=5
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        5 -eq 5 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 12
+ cf scale westley-tammer-1 -i 48
+ cf scale max-tammer-1 -i 24
+ cf scale buttercup-tammer-1 -i 6
+ check_state westley-tammer-1 48
+ name=westley-tammer-1
+ instances=48
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       40 -eq 48 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       41 -eq 48 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       42 -eq 48 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       45 -eq 48 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       46 -eq 48 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       48 -eq 48 ]]
+ return
+ check_state max-tammer-1 24
+ name=max-tammer-1
+ instances=24
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       23 -eq 24 ]]
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       24 -eq 24 ]]
+ return
+ check_state buttercup-tammer-1 6
+ name=buttercup-tammer-1
+ instances=6
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        6 -eq 6 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 14
+ cf scale westley-tammer-1 -i 56
+ cf scale max-tammer-1 -i 28
+ cf scale buttercup-tammer-1 -i 7
+ check_state westley-tammer-1 56
+ name=westley-tammer-1
+ instances=56
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       48 -eq 56 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       50 -eq 56 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       51 -eq 56 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       53 -eq 56 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       54 -eq 56 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       55 -eq 56 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       55 -eq 56 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       56 -eq 56 ]]
+ return
+ check_state max-tammer-1 28
+ name=max-tammer-1
+ instances=28
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       28 -eq 28 ]]
+ return
+ check_state buttercup-tammer-1 7
+ name=buttercup-tammer-1
+ instances=7
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        7 -eq 7 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 16
+ cf scale westley-tammer-1 -i 64
+ cf scale max-tammer-1 -i 32
+ cf scale buttercup-tammer-1 -i 8
+ check_state westley-tammer-1 64
+ name=westley-tammer-1
+ instances=64
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       57 -eq 64 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       58 -eq 64 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       61 -eq 64 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       61 -eq 64 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       62 -eq 64 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       62 -eq 64 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       62 -eq 64 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       64 -eq 64 ]]
+ return
+ check_state max-tammer-1 32
+ name=max-tammer-1
+ instances=32
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       32 -eq 32 ]]
+ return
+ check_state buttercup-tammer-1 8
+ name=buttercup-tammer-1
+ instances=8
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        8 -eq 8 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 18
+ cf scale westley-tammer-1 -i 72
+ cf scale max-tammer-1 -i 36
+ cf scale buttercup-tammer-1 -i 9
+ check_state westley-tammer-1 72
+ name=westley-tammer-1
+ instances=72
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       65 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       65 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       66 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       67 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       67 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       67 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       67 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       67 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       71 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       66 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       67 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       67 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       67 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       67 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       72 -eq 72 ]]
+ return
+ check_state max-tammer-1 36
+ name=max-tammer-1
+ instances=36
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       36 -eq 36 ]]
+ return
+ check_state buttercup-tammer-1 9
+ name=buttercup-tammer-1
+ instances=9
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        9 -eq 9 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 20
+ cf scale westley-tammer-1 -i 80
+ cf scale max-tammer-1 -i 40
+ cf scale buttercup-tammer-1 -i 10
+ check_state westley-tammer-1 80
+ name=westley-tammer-1
+ instances=80
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       72 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       72 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       72 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       73 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       73 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       78 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       78 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       78 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       78 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       73 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       73 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       79 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       79 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       79 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       79 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       80 -eq 80 ]]
+ return
+ check_state max-tammer-1 40
+ name=max-tammer-1
+ instances=40
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       40 -eq 40 ]]
+ return
+ check_state buttercup-tammer-1 10
+ name=buttercup-tammer-1
+ instances=10
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       10 -eq 10 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 22
+ cf scale westley-tammer-1 -i 88
+ cf scale max-tammer-1 -i 44
+ cf scale buttercup-tammer-1 -i 11
+ check_state westley-tammer-1 88
+ name=westley-tammer-1
+ instances=88
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       80 -eq 88 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       80 -eq 88 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       80 -eq 88 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       82 -eq 88 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       82 -eq 88 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       88 -eq 88 ]]
+ return
+ check_state max-tammer-1 44
+ name=max-tammer-1
+ instances=44
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       44 -eq 44 ]]
+ return
+ check_state buttercup-tammer-1 11
+ name=buttercup-tammer-1
+ instances=11
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       11 -eq 11 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 24
+ cf scale westley-tammer-1 -i 96
+ cf scale max-tammer-1 -i 48
+ cf scale buttercup-tammer-1 -i 12
+ check_state westley-tammer-1 96
+ name=westley-tammer-1
+ instances=96
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       88 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       88 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       70 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       70 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       73 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       73 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       73 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       74 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       75 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       91 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       91 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       95 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       95 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       95 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       95 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       95 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       96 -eq 96 ]]
+ return
+ check_state max-tammer-1 48
+ name=max-tammer-1
+ instances=48
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       48 -eq 48 ]]
+ return
+ check_state buttercup-tammer-1 12
+ name=buttercup-tammer-1
+ instances=12
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       12 -eq 12 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 26
+ cf scale westley-tammer-1 -i 104
+ cf scale max-tammer-1 -i 52
+ cf scale buttercup-tammer-1 -i 13
+ check_state westley-tammer-1 104
+ name=westley-tammer-1
+ instances=104
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       96 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       78 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       81 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       81 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       83 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       83 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       84 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       86 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       86 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       99 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      104 -eq 104 ]]
+ return
+ check_state max-tammer-1 52
+ name=max-tammer-1
+ instances=52
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       52 -eq 52 ]]
+ return
+ check_state buttercup-tammer-1 13
+ name=buttercup-tammer-1
+ instances=13
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       13 -eq 13 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 28
+ cf scale westley-tammer-1 -i 112
+ cf scale max-tammer-1 -i 56
+ cf scale buttercup-tammer-1 -i 14
+ check_state westley-tammer-1 112
+ name=westley-tammer-1
+ instances=112
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      104 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      104 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      104 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      104 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      106 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      100 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      105 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      105 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      112 -eq 112 ]]
+ return
+ check_state max-tammer-1 56
+ name=max-tammer-1
+ instances=56
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       56 -eq 56 ]]
+ return
+ check_state buttercup-tammer-1 14
+ name=buttercup-tammer-1
+ instances=14
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       14 -eq 14 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 30
+ cf scale westley-tammer-1 -i 120
+ cf scale max-tammer-1 -i 60
+ cf scale buttercup-tammer-1 -i 15
+ check_state westley-tammer-1 120
+ name=westley-tammer-1
+ instances=120
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      112 -eq 120 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      112 -eq 120 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      112 -eq 120 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      112 -eq 120 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      116 -eq 120 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      120 -eq 120 ]]
+ return
+ check_state max-tammer-1 60
+ name=max-tammer-1
+ instances=60
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       60 -eq 60 ]]
+ return
+ check_state buttercup-tammer-1 15
+ name=buttercup-tammer-1
+ instances=15
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       15 -eq 15 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 32
+ cf scale westley-tammer-1 -i 128
+ cf scale max-tammer-1 -i 64
+ cf scale buttercup-tammer-1 -i 16
+ check_state westley-tammer-1 128
+ name=westley-tammer-1
+ instances=128
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       95 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       95 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      101 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      102 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      102 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      104 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      108 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      119 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      124 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      124 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      128 -eq 128 ]]
+ return
+ check_state max-tammer-1 64
+ name=max-tammer-1
+ instances=64
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       64 -eq 64 ]]
+ return
+ check_state buttercup-tammer-1 16
+ name=buttercup-tammer-1
+ instances=16
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 16 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 34
+ cf scale westley-tammer-1 -i 136
+ cf scale max-tammer-1 -i 68
+ cf scale buttercup-tammer-1 -i 17
+ check_state westley-tammer-1 136
+ name=westley-tammer-1
+ instances=136
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      128 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      128 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      128 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      107 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      109 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      113 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      113 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      118 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      118 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      130 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      135 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      136 -eq 136 ]]
+ return
+ check_state max-tammer-1 68
+ name=max-tammer-1
+ instances=68
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       68 -eq 68 ]]
+ return
+ check_state buttercup-tammer-1 17
+ name=buttercup-tammer-1
+ instances=17
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       17 -eq 17 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 36
+ cf scale westley-tammer-1 -i 144
+ cf scale max-tammer-1 -i 72
+ cf scale buttercup-tammer-1 -i 18
+ check_state westley-tammer-1 144
+ name=westley-tammer-1
+ instances=144
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      136 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      136 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      136 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      136 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      140 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      133 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      130 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      130 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      130 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      130 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      141 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      144 -eq 144 ]]
+ return
+ check_state max-tammer-1 72
+ name=max-tammer-1
+ instances=72
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       72 -eq 72 ]]
+ return
+ check_state buttercup-tammer-1 18
+ name=buttercup-tammer-1
+ instances=18
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       18 -eq 18 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 38
+ cf scale westley-tammer-1 -i 152
+ cf scale max-tammer-1 -i 76
+ cf scale buttercup-tammer-1 -i 19
+ check_state westley-tammer-1 152
+ name=westley-tammer-1
+ instances=152
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      144 -eq 152 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      144 -eq 152 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      144 -eq 152 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      147 -eq 152 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      147 -eq 152 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      152 -eq 152 ]]
+ return
+ check_state max-tammer-1 76
+ name=max-tammer-1
+ instances=76
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       76 -eq 76 ]]
+ return
+ check_state buttercup-tammer-1 19
+ name=buttercup-tammer-1
+ instances=19
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 19 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 19 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 19 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 19 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 19 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 19 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 19 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 19 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       18 -eq 19 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       18 -eq 19 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       19 -eq 19 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 40
+ cf scale westley-tammer-1 -i 160
+ cf scale max-tammer-1 -i 80
+ cf scale buttercup-tammer-1 -i 20
+ check_state westley-tammer-1 160
+ name=westley-tammer-1
+ instances=160
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      152 -eq 160 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      152 -eq 160 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      152 -eq 160 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      153 -eq 160 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      155 -eq 160 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      160 -eq 160 ]]
+ return
+ check_state max-tammer-1 80
+ name=max-tammer-1
+ instances=80
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       80 -eq 80 ]]
+ return
+ check_state buttercup-tammer-1 20
+ name=buttercup-tammer-1
+ instances=20
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       17 -eq 20 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       17 -eq 20 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       18 -eq 20 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       18 -eq 20 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       18 -eq 20 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       18 -eq 20 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       18 -eq 20 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       20 -eq 20 ]]
+ return
++ date +%s
+ scale_up_end_time=1446228209
+ sleep 60
++ date +%s
+ scale_down_start_time=1446228269
+ cf d -f humperdink-tammer-1
+ cf d -f westley-tammer-1
+ cf d -f max-tammer-1
+ cf d -f buttercup-tammer-1
++ date +%s
+ scale_down_end_time=1446228272
+ echo 1446227764,1446228209,1446228269,1446228272
+ sleep 30
+ true
+ cf push westley-tammer-1 -p assets/apps/westley -m 128M
+ cf push max-tammer-1 -p assets/apps/max -m 512M
+ cf push buttercup-tammer-1 -p assets/apps/princess -m 1024M
+ cf push humperdink-tammer-1 -p assets/apps/humperdink -m 128M
++ date +%s
+ scale_up_start_time=1446228476
++ seq 20
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 2
+ cf scale westley-tammer-1 -i 8
+ cf scale max-tammer-1 -i 4
+ cf scale buttercup-tammer-1 -i 1
+ check_state westley-tammer-1 8
+ name=westley-tammer-1
+ instances=8
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        1 -eq 8 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        3 -eq 8 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        4 -eq 8 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        4 -eq 8 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        5 -eq 8 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        7 -eq 8 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        8 -eq 8 ]]
+ return
+ check_state max-tammer-1 4
+ name=max-tammer-1
+ instances=4
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        4 -eq 4 ]]
+ return
+ check_state buttercup-tammer-1 1
+ name=buttercup-tammer-1
+ instances=1
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        1 -eq 1 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 4
+ cf scale westley-tammer-1 -i 16
+ cf scale max-tammer-1 -i 8
+ cf scale buttercup-tammer-1 -i 2
+ check_state westley-tammer-1 16
+ name=westley-tammer-1
+ instances=16
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        8 -eq 16 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        9 -eq 16 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       10 -eq 16 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       13 -eq 16 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       14 -eq 16 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       15 -eq 16 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 16 ]]
+ return
+ check_state max-tammer-1 8
+ name=max-tammer-1
+ instances=8
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        7 -eq 8 ]]
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        8 -eq 8 ]]
+ return
+ check_state buttercup-tammer-1 2
+ name=buttercup-tammer-1
+ instances=2
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        2 -eq 2 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 6
+ cf scale westley-tammer-1 -i 24
+ cf scale max-tammer-1 -i 12
+ cf scale buttercup-tammer-1 -i 3
+ check_state westley-tammer-1 24
+ name=westley-tammer-1
+ instances=24
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 24 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       20 -eq 24 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       21 -eq 24 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       21 -eq 24 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       22 -eq 24 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       22 -eq 24 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       24 -eq 24 ]]
+ return
+ check_state max-tammer-1 12
+ name=max-tammer-1
+ instances=12
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       12 -eq 12 ]]
+ return
+ check_state buttercup-tammer-1 3
+ name=buttercup-tammer-1
+ instances=3
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        3 -eq 3 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 8
+ cf scale westley-tammer-1 -i 32
+ cf scale max-tammer-1 -i 16
+ cf scale buttercup-tammer-1 -i 4
+ check_state westley-tammer-1 32
+ name=westley-tammer-1
+ instances=32
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       24 -eq 32 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       25 -eq 32 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       26 -eq 32 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       30 -eq 32 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       31 -eq 32 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       31 -eq 32 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       32 -eq 32 ]]
+ return
+ check_state max-tammer-1 16
+ name=max-tammer-1
+ instances=16
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 16 ]]
+ return
+ check_state buttercup-tammer-1 4
+ name=buttercup-tammer-1
+ instances=4
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        4 -eq 4 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 10
+ cf scale westley-tammer-1 -i 40
+ cf scale max-tammer-1 -i 20
+ cf scale buttercup-tammer-1 -i 5
+ check_state westley-tammer-1 40
+ name=westley-tammer-1
+ instances=40
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       32 -eq 40 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       32 -eq 40 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       35 -eq 40 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       37 -eq 40 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       39 -eq 40 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       39 -eq 40 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       40 -eq 40 ]]
+ return
+ check_state max-tammer-1 20
+ name=max-tammer-1
+ instances=20
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       20 -eq 20 ]]
+ return
+ check_state buttercup-tammer-1 5
+ name=buttercup-tammer-1
+ instances=5
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        5 -eq 5 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 12
+ cf scale westley-tammer-1 -i 48
+ cf scale max-tammer-1 -i 24
+ cf scale buttercup-tammer-1 -i 6
+ check_state westley-tammer-1 48
+ name=westley-tammer-1
+ instances=48
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       40 -eq 48 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       42 -eq 48 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       42 -eq 48 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       42 -eq 48 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       44 -eq 48 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       48 -eq 48 ]]
+ return
+ check_state max-tammer-1 24
+ name=max-tammer-1
+ instances=24
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       23 -eq 24 ]]
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       23 -eq 24 ]]
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       24 -eq 24 ]]
+ return
+ check_state buttercup-tammer-1 6
+ name=buttercup-tammer-1
+ instances=6
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        6 -eq 6 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 14
+ cf scale westley-tammer-1 -i 56
+ cf scale max-tammer-1 -i 28
+ cf scale buttercup-tammer-1 -i 7
+ check_state westley-tammer-1 56
+ name=westley-tammer-1
+ instances=56
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       48 -eq 56 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       48 -eq 56 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       50 -eq 56 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       48 -eq 56 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       48 -eq 56 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       55 -eq 56 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       56 -eq 56 ]]
+ return
+ check_state max-tammer-1 28
+ name=max-tammer-1
+ instances=28
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       28 -eq 28 ]]
+ return
+ check_state buttercup-tammer-1 7
+ name=buttercup-tammer-1
+ instances=7
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        7 -eq 7 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 16
+ cf scale westley-tammer-1 -i 64
+ cf scale max-tammer-1 -i 32
+ cf scale buttercup-tammer-1 -i 8
+ check_state westley-tammer-1 64
+ name=westley-tammer-1
+ instances=64
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       56 -eq 64 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       56 -eq 64 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       56 -eq 64 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       60 -eq 64 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       60 -eq 64 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       64 -eq 64 ]]
+ return
+ check_state max-tammer-1 32
+ name=max-tammer-1
+ instances=32
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       32 -eq 32 ]]
+ return
+ check_state buttercup-tammer-1 8
+ name=buttercup-tammer-1
+ instances=8
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        8 -eq 8 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 18
+ cf scale westley-tammer-1 -i 72
+ cf scale max-tammer-1 -i 36
+ cf scale buttercup-tammer-1 -i 9
+ check_state westley-tammer-1 72
+ name=westley-tammer-1
+ instances=72
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       64 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       58 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       59 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       59 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       59 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       62 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       68 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       70 -eq 72 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       72 -eq 72 ]]
+ return
+ check_state max-tammer-1 36
+ name=max-tammer-1
+ instances=36
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       35 -eq 36 ]]
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       35 -eq 36 ]]
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       35 -eq 36 ]]
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       36 -eq 36 ]]
+ return
+ check_state buttercup-tammer-1 9
+ name=buttercup-tammer-1
+ instances=9
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[        9 -eq 9 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 20
+ cf scale westley-tammer-1 -i 80
+ cf scale max-tammer-1 -i 40
+ cf scale buttercup-tammer-1 -i 10
+ check_state westley-tammer-1 80
+ name=westley-tammer-1
+ instances=80
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       72 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       72 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       72 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       72 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       59 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       62 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       63 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       63 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       64 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       77 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       77 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       79 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       79 -eq 80 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       80 -eq 80 ]]
+ return
+ check_state max-tammer-1 40
+ name=max-tammer-1
+ instances=40
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       40 -eq 40 ]]
+ return
+ check_state buttercup-tammer-1 10
+ name=buttercup-tammer-1
+ instances=10
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       10 -eq 10 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 22
+ cf scale westley-tammer-1 -i 88
+ cf scale max-tammer-1 -i 44
+ cf scale buttercup-tammer-1 -i 11
+ check_state westley-tammer-1 88
+ name=westley-tammer-1
+ instances=88
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       80 -eq 88 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       80 -eq 88 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       80 -eq 88 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       80 -eq 88 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       85 -eq 88 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       85 -eq 88 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       80 -eq 88 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       80 -eq 88 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       88 -eq 88 ]]
+ return
+ check_state max-tammer-1 44
+ name=max-tammer-1
+ instances=44
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       44 -eq 44 ]]
+ return
+ check_state buttercup-tammer-1 11
+ name=buttercup-tammer-1
+ instances=11
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       11 -eq 11 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 24
+ cf scale westley-tammer-1 -i 96
+ cf scale max-tammer-1 -i 48
+ cf scale buttercup-tammer-1 -i 12
+ check_state westley-tammer-1 96
+ name=westley-tammer-1
+ instances=96
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       88 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       88 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       88 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       88 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       92 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       92 -eq 96 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       96 -eq 96 ]]
+ return
+ check_state max-tammer-1 48
+ name=max-tammer-1
+ instances=48
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       48 -eq 48 ]]
+ return
+ check_state buttercup-tammer-1 12
+ name=buttercup-tammer-1
+ instances=12
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       12 -eq 12 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 26
+ cf scale westley-tammer-1 -i 104
+ cf scale max-tammer-1 -i 52
+ cf scale buttercup-tammer-1 -i 13
+ check_state westley-tammer-1 104
+ name=westley-tammer-1
+ instances=104
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       96 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       81 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       81 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       85 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       85 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       85 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       85 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       85 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       99 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       99 -eq 104 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      104 -eq 104 ]]
+ return
+ check_state max-tammer-1 52
+ name=max-tammer-1
+ instances=52
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       52 -eq 52 ]]
+ return
+ check_state buttercup-tammer-1 13
+ name=buttercup-tammer-1
+ instances=13
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       13 -eq 13 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 28
+ cf scale westley-tammer-1 -i 112
+ cf scale max-tammer-1 -i 56
+ cf scale buttercup-tammer-1 -i 14
+ check_state westley-tammer-1 112
+ name=westley-tammer-1
+ instances=112
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      104 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      104 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      104 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      104 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       86 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       87 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       91 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       91 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       91 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       91 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      109 -eq 112 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      112 -eq 112 ]]
+ return
+ check_state max-tammer-1 56
+ name=max-tammer-1
+ instances=56
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       56 -eq 56 ]]
+ return
+ check_state buttercup-tammer-1 14
+ name=buttercup-tammer-1
+ instances=14
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       14 -eq 14 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 30
+ cf scale westley-tammer-1 -i 120
+ cf scale max-tammer-1 -i 60
+ cf scale buttercup-tammer-1 -i 15
+ check_state westley-tammer-1 120
+ name=westley-tammer-1
+ instances=120
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      112 -eq 120 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      112 -eq 120 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      112 -eq 120 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      112 -eq 120 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      116 -eq 120 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      120 -eq 120 ]]
+ return
+ check_state max-tammer-1 60
+ name=max-tammer-1
+ instances=60
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       60 -eq 60 ]]
+ return
+ check_state buttercup-tammer-1 15
+ name=buttercup-tammer-1
+ instances=15
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       14 -eq 15 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       14 -eq 15 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       14 -eq 15 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       14 -eq 15 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       14 -eq 15 ]]
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       15 -eq 15 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 32
+ cf scale westley-tammer-1 -i 128
+ cf scale max-tammer-1 -i 64
+ cf scale buttercup-tammer-1 -i 16
+ check_state westley-tammer-1 128
+ name=westley-tammer-1
+ instances=128
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      120 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      120 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      120 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      120 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      123 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      123 -eq 128 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      128 -eq 128 ]]
+ return
+ check_state max-tammer-1 64
+ name=max-tammer-1
+ instances=64
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       64 -eq 64 ]]
+ return
+ check_state buttercup-tammer-1 16
+ name=buttercup-tammer-1
+ instances=16
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       16 -eq 16 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 34
+ cf scale westley-tammer-1 -i 136
+ cf scale max-tammer-1 -i 68
+ cf scale buttercup-tammer-1 -i 17
+ check_state westley-tammer-1 136
+ name=westley-tammer-1
+ instances=136
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      102 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      102 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      110 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      110 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      117 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      117 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      117 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      118 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      133 -eq 136 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      136 -eq 136 ]]
+ return
+ check_state max-tammer-1 68
+ name=max-tammer-1
+ instances=68
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       68 -eq 68 ]]
+ return
+ check_state buttercup-tammer-1 17
+ name=buttercup-tammer-1
+ instances=17
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       17 -eq 17 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 36
+ cf scale westley-tammer-1 -i 144
+ cf scale max-tammer-1 -i 72
+ cf scale buttercup-tammer-1 -i 18
+ check_state westley-tammer-1 144
+ name=westley-tammer-1
+ instances=144
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      136 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      136 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      136 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      136 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      123 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      128 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      128 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      128 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      128 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      129 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      135 -eq 144 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      144 -eq 144 ]]
+ return
+ check_state max-tammer-1 72
+ name=max-tammer-1
+ instances=72
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       72 -eq 72 ]]
+ return
+ check_state buttercup-tammer-1 18
+ name=buttercup-tammer-1
+ instances=18
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       18 -eq 18 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 38
+ cf scale westley-tammer-1 -i 152
+ cf scale max-tammer-1 -i 76
+ cf scale buttercup-tammer-1 -i 19
+ check_state westley-tammer-1 152
+ name=westley-tammer-1
+ instances=152
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      144 -eq 152 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      144 -eq 152 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      144 -eq 152 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      144 -eq 152 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      149 -eq 152 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      152 -eq 152 ]]
+ return
+ check_state max-tammer-1 76
+ name=max-tammer-1
+ instances=76
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       66 -eq 76 ]]
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       66 -eq 76 ]]
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       66 -eq 76 ]]
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       66 -eq 76 ]]
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       66 -eq 76 ]]
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       66 -eq 76 ]]
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       66 -eq 76 ]]
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       76 -eq 76 ]]
+ return
+ check_state buttercup-tammer-1 19
+ name=buttercup-tammer-1
+ instances=19
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       19 -eq 19 ]]
+ return
+ for i in '`seq 20`'
+ cf scale humperdink-tammer-1 -i 40
+ cf scale westley-tammer-1 -i 160
+ cf scale max-tammer-1 -i 80
+ cf scale buttercup-tammer-1 -i 20
+ check_state westley-tammer-1 160
+ name=westley-tammer-1
+ instances=160
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      152 -eq 160 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      152 -eq 160 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      152 -eq 160 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      153 -eq 160 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      155 -eq 160 ]]
+ true
++ cf app westley-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[      160 -eq 160 ]]
+ return
+ check_state max-tammer-1 80
+ name=max-tammer-1
+ instances=80
+ true
++ cf app max-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       80 -eq 80 ]]
+ return
+ check_state buttercup-tammer-1 20
+ name=buttercup-tammer-1
+ instances=20
+ true
++ cf app buttercup-tammer-1
++ grep '#'
++ egrep -v '(starting|stopped)'
++ wc -l
+ [[       20 -eq 20 ]]
+ return
++ date +%s
+ scale_up_end_time=1446228890
+ sleep 60
